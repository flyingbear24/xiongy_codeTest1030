在ROS中，如果你想在一个功能包中使用另一个功能包定义的自定义消息，你需要遵循以下步骤：

### 步骤 1：添加依赖

1. **修改`package.xml`**：
   在你的目标功能包的`package.xml`文件中，添加对包含自定义消息的功能包的依赖。例如，如果自定义消息在`msg_package`中，添加以下依赖：
   ```xml
   <build_depend>msg_package</build_depend>
   <exec_depend>msg_package</exec_depend>
   ```
   这告诉ROS在构建和运行时都需要`msg_package`。

2. **保存并关闭文件**。

### 步骤 2：修改`CMakeLists.txt`

1. **查找依赖**：
   在目标功能包的`CMakeLists.txt`文件中，使用`find_package`来查找包含自定义消息的功能包。确保在`find_package(catkin ...)`调用中包含`msg_package`：
   ```cmake
   find_package(catkin REQUIRED COMPONENTS
     roscpp
     rospy
     std_msgs
     msg_package  # 添加你的自定义消息包名
   )
   ```

2. **包含消息目录**：
   如果自定义消息包提供了消息，确保在`include_directories`中包含`${catkin_INCLUDE_DIRS}`，这样编译器可以找到消息的头文件：
   ```cmake
   include_directories(
     ${catkin_INCLUDE_DIRS}
   )
   ```

### 步骤 3：在代码中使用自定义消息

1. **包含消息头文件**：
   在你的C++源文件中，使用`#include`指令包含自定义消息的头文件。例如，如果你的消息类型是`CustomMessage`，包含如下：
   ```cpp
   #include <msg_package/CustomMessage.h>
   ```

2. **编写发布者或订阅者代码**：

